(function(){"use strict";function b(t){document.documentElement.classList.toggle("dark",t),localStorage.setItem("pergament-dark-mode",t?"1":"0")}const C=localStorage.getItem("pergament-dark-mode");(C==="1"||C===null&&window.matchMedia("(prefers-color-scheme: dark)").matches)&&b(!0);const I=document.getElementById("dark-mode-toggle");I&&I.addEventListener("click",function(){b(!document.documentElement.classList.contains("dark"))});const S=document.getElementById("dark-mode-toggle-mobile");S&&S.addEventListener("click",function(){b(!document.documentElement.classList.contains("dark"))});const M=document.getElementById("mobile-menu-toggle");M&&M.addEventListener("click",function(){const t=document.getElementById("mobile-menu");t&&t.classList.toggle("hidden")}),(function(){const t=[75,87.5,100,112.5,125,137.5,150],c=2,i=document.getElementById("font-size-decrease"),n=document.getElementById("font-size-increase"),o=document.getElementById("font-size-decrease-mobile"),s=document.getElementById("font-size-increase-mobile");if(!i||!n)return;function d(){const l=localStorage.getItem("pergament-font-size");if(!l)return c;const f=parseFloat(l),a=t.indexOf(f);return a>=0?a:c}function u(l){const f=l===0,a=l===t.length-1,y=f?"You are on the smallest font size":"Decrease font size to "+t[l-1]+"%",k=a?"You are on the biggest font size":"Increase font size to "+t[l+1]+"%";i.disabled=f,i.title=y,i.classList.toggle("opacity-30",f),i.classList.toggle("cursor-not-allowed",f),n.disabled=a,n.title=k,n.classList.toggle("opacity-30",a),n.classList.toggle("cursor-not-allowed",a),o&&(o.disabled=f,o.title=y,o.classList.toggle("opacity-30",f),o.classList.toggle("cursor-not-allowed",f)),s&&(s.disabled=a,s.title=k,s.classList.toggle("opacity-30",a),s.classList.toggle("cursor-not-allowed",a))}function m(l){const f=t[l];localStorage.setItem("pergament-font-size",f);let a=document.getElementById("pergament-font-size-style");a||(a=document.createElement("style"),a.id="pergament-font-size-style",document.head.appendChild(a)),a.textContent=".prose { font-size: "+f+"%; }",u(l)}function v(){const l=d();l>0&&m(l-1)}function h(){const l=d();l<t.length-1&&m(l+1)}i.addEventListener("click",v),n.addEventListener("click",h),o&&o.addEventListener("click",v),s&&s.addEventListener("click",h),u(d())})(),(function(){const t=document.getElementById("dyslexic-toggle"),c=document.getElementById("dyslexic-toggle-mobile");if(!t)return;function i(o){const s=o?"Switch to normal font":"Switch to OpenDyslexic font";t.title=s,t.classList.toggle("pergament-active-nav",o),c&&(c.title=s,c.classList.toggle("pergament-active-nav",o))}function n(){const o=document.documentElement.classList.toggle("dyslexic");localStorage.setItem("pergament-dyslexic",o?"1":"0"),i(o)}t.addEventListener("click",n),c&&c.addEventListener("click",n),i(document.documentElement.classList.contains("dyslexic"))})(),(function(){const t=document.createElement("div");t.className="pergament-lightbox";const c=document.createElement("img");t.appendChild(c),document.body.appendChild(t);function i(o,s){c.src=o,c.alt=s||"",t.classList.add("is-open"),document.body.classList.add("lightbox-open")}function n(){t.classList.remove("is-open"),document.body.classList.remove("lightbox-open")}t.addEventListener("click",n),document.addEventListener("keydown",function(o){o.key==="Escape"&&n()}),document.querySelectorAll("main img:not(.rounded-full)").forEach(function(o){o.classList.add("pergament-zoomable"),o.addEventListener("click",function(s){s.stopPropagation(),i(o.src,o.alt)})})})(),(function(){const t='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"/><path d="M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"/></svg>',c='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>';document.querySelectorAll("main pre").forEach(function(i){const n=document.createElement("button");n.className="copy-code-btn",n.setAttribute("aria-label","Copy code to clipboard"),n.innerHTML=t,n.addEventListener("click",function(){const o=i.querySelector("code"),s=o?o.innerText:i.innerText;navigator.clipboard.writeText(s).then(function(){n.innerHTML=c,setTimeout(function(){n.innerHTML=t},2e3)})}),i.appendChild(n)})})(),(function(){const t=document.getElementById("cmd-palette-backdrop"),c=document.getElementById("cmd-palette-input"),i=document.getElementById("cmd-palette-results");if(!t||!c||!i)return;const n=window.PergamentConfig&&window.PergamentConfig.searchUrl||null;if(!n)return;const o=[{title:"Toggle dark mode",excerpt:"Switch between light and dark theme",type:"cmd",action:"dark-mode"},{title:"Increase font size",excerpt:"Make text larger",type:"cmd",action:"font-size-increase"},{title:"Decrease font size",excerpt:"Make text smaller",type:"cmd",action:"font-size-decrease"},{title:"Toggle dyslexic font",excerpt:"Switch to OpenDyslexic font",type:"cmd",action:"dyslexic"}];let s=-1,d=[],u=null;function m(e){const r=e==="dark-mode"?"dark-mode-toggle":e==="font-size-increase"?"font-size-increase":e==="font-size-decrease"?"font-size-decrease":e==="dyslexic"?"dyslexic-toggle":null;if(r){const p=document.getElementById(r);p&&p.click()}}function v(){t.classList.add("is-open"),document.body.classList.add("cmd-open"),c.value="",d=[],s=-1,setTimeout(function(){c.focus()},30),k()}function h(){t.classList.remove("is-open"),document.body.classList.remove("cmd-open")}function l(e){const r=i.querySelectorAll(".pergament-cmd-result");r.forEach(function(p,g){p.classList.toggle("is-active",g===e)}),s=e,e>=0&&r[e]&&r[e].scrollIntoView({block:"nearest"})}function f(){if(s>=0&&d[s]){const e=d[s];e.type==="cmd"?m(e.action):window.location.href=e.url,h()}}function a(e){return e==="doc"?"Doc":e==="post"?"Post":e==="page"?"Page":e==="cmd"?"Cmd":e.charAt(0).toUpperCase()+e.slice(1)}function y(e){if(d=e,s=-1,i.innerHTML="",e.length===0){const r=document.createElement("p");r.className="pergament-cmd-empty",r.textContent="No results found.",i.appendChild(r);return}e.forEach(function(r,p){const g=document.createElement("a");g.href=r.type==="cmd"?"#":r.url,g.className="pergament-cmd-result",g.setAttribute("role","option");const E=document.createElement("span");E.className="pergament-cmd-result-badge pergament-cmd-result-badge--"+r.type,E.textContent=a(r.type);const w=document.createElement("div");w.className="pergament-cmd-result-body";const x=document.createElement("div");if(x.className="pergament-cmd-result-title",x.textContent=r.title,w.appendChild(x),r.excerpt){const L=document.createElement("div");L.className="pergament-cmd-result-excerpt",L.textContent=r.excerpt,w.appendChild(L)}g.appendChild(E),g.appendChild(w),g.addEventListener("mouseenter",function(){l(p)}),g.addEventListener("click",function(L){L.preventDefault(),r.type==="cmd"?m(r.action):window.location.href=r.url,h()}),i.appendChild(g)})}function k(){fetch(n+"?q=",{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(function(e){return e.json()}).then(function(e){y(e.concat(o))}).catch(function(){y(o)})}function T(e){if(e.length===0){k();return}if(e.length<2){i.innerHTML="",d=[];return}fetch(n+"?q="+encodeURIComponent(e),{headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}}).then(function(r){return r.json()}).then(function(r){const p=e.toLowerCase(),g=o.filter(function(E){return E.title.toLowerCase().includes(p)||E.excerpt.toLowerCase().includes(p)});y(r.concat(g))}).catch(function(){})}c.addEventListener("input",function(){clearTimeout(u),u=setTimeout(function(){T(c.value.trim())},200)}),c.addEventListener("keydown",function(e){const r=i.querySelectorAll(".pergament-cmd-result");e.key==="ArrowDown"?(e.preventDefault(),l(Math.min(s+1,r.length-1))):e.key==="ArrowUp"?(e.preventDefault(),l(Math.max(s-1,0))):e.key==="Enter"?(e.preventDefault(),f()):e.key==="Escape"&&h()}),t.addEventListener("click",function(e){e.target===t&&h()}),document.addEventListener("keydown",function(e){(e.metaKey||e.ctrlKey)&&e.key==="k"&&(e.preventDefault(),t.classList.contains("is-open")?h():v())}),document.querySelectorAll('input[name="q"]').forEach(function(e){e.addEventListener("mousedown",function(r){r.preventDefault(),v()}),e.addEventListener("focus",function(){e.blur(),v()})})})(),(function(){if(!("serviceWorker"in navigator))return;const t=window.PergamentConfig&&window.PergamentConfig.swUrl;t&&navigator.serviceWorker.register(t)})(),(function(){const t=document.getElementById("docs-sidebar-toggle");t&&t.addEventListener("click",function(){const c=document.getElementById("docs-sidebar");c&&c.classList.toggle("hidden")})})(),(function(){const t=Array.from(document.querySelectorAll("[data-toc-link]"));if(!t.length)return;const c=Array.from(document.querySelectorAll(".prose h2[id], .prose h3[id], .prose h4[id]"));if(!c.length)return;const i=new Set;function n(d){t.forEach(function(u){const m=u.dataset.tocLink===d;u.classList.toggle("toc-link-active",m),m&&u.scrollIntoView({block:"nearest"})})}function o(){for(let m=0;m<c.length;m++)if(i.has(c[m].id)){n(c[m].id);return}var d=window.scrollY+100,u=null;c.forEach(function(m){m.offsetTop<=d&&(u=m.id)}),u&&n(u)}const s=new IntersectionObserver(function(d){d.forEach(function(u){u.isIntersecting?i.add(u.target.id):i.delete(u.target.id)}),o()},{rootMargin:"-80px 0px -40% 0px",threshold:0});c.forEach(function(d){s.observe(d)})})(),(function(){const t='<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M13 4v16M17 4v16M19 4H9.5a4.5 4.5 0 0 0 0 9H13"/></svg>',c='<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="20 6 9 17 4 12"/></svg>';document.querySelectorAll(".prose h2[id], .prose h3[id], .prose h4[id]").forEach(function(i){const n=document.createElement("button");n.className="heading-anchor",n.setAttribute("aria-label","Copy link to section"),n.innerHTML=t,n.addEventListener("click",function(o){o.stopPropagation();const s=window.location.origin+window.location.pathname+"#"+i.id;navigator.clipboard.writeText(s).then(function(){n.innerHTML=c,setTimeout(function(){n.innerHTML=t},2e3)})}),i.appendChild(n)})})()})();
